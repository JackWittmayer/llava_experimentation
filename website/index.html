<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jack Wittmayer</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <nav class="navbar">
            <h1><a href="/">Jack Wittmayer</a></h1>
            <ul>
                <li><a href="/about.html">About</a></li>
            </ul>
        </nav>

        <main>
            <section class="bio">
                <p>Hi, I'm Jack Wittmayer. I'm a software engineer interested in AI, machine learning, and building useful tools. This is where I share my thoughts and projects.</p>
            </section>

            <section class="latest-post">
                <h2>Latest Post</h2>
                <div id="latest-post-container"></div>
            </section>

            <section class="posts">
                <h2>All Posts</h2>
                <div id="posts-list-container"></div>
            </section>

            <script>
                // Load posts from posts.json and render them dynamically
                async function loadPosts() {
                    try {
                        const response = await fetch('/posts.json');
                        if (!response.ok) throw new Error('Failed to load posts');
                        const posts = await response.json();

                        if (posts.length === 0) return;

                        // Render latest post
                        const latestPost = posts[0];
                        const latestContainer = document.getElementById('latest-post-container');
                        latestContainer.innerHTML = `
                            <article class="post">
                                <h3><a href="/posts/${latestPost.slug}.html">${latestPost.title}</a></h3>
                                <p class="post-date">${latestPost.date}</p>
                                <p>${latestPost.description}</p>
                                <a href="/posts/${latestPost.slug}.html" class="read-more">Read more →</a>
                            </article>
                        `;

                        // Render all posts list
                        const postsContainer = document.getElementById('posts-list-container');
                        const postsHtml = posts.map(post => `
                            <li>
                                <a href="/posts/${post.slug}.html">${post.title}</a>
                                <span class="post-list-date">${post.date}</span>
                            </li>
                        `).join('');
                        postsContainer.innerHTML = `<ul class="posts-list">${postsHtml}</ul>`;
                    } catch (error) {
                        console.error('Error loading posts:', error);
                        document.getElementById('latest-post-container').innerHTML = '<p>Unable to load posts.</p>';
                        document.getElementById('posts-list-container').innerHTML = '<p>Unable to load posts.</p>';
                    }
                }

                // Load posts when the page loads
                document.addEventListener('DOMContentLoaded', loadPosts);
            </script>
        </main>

        <footer>
            <p>© 2025 Jack Wittmayer</p>
        </footer>
    </div>
</body>
</html>
